# Editing the Book

- Having [created the book](./create_book.md)
- Run `./watch.sh`
- Keep the `SUMMARY.md` file open in order to add new pages
  - Ctrl + Click will open the editor for a page link
- If you edit any file under the `md` folder you should see the book regenerated in the terminal where the `watch.sh` is running.
  - The message `The mdbook-plus preprocessor not running ...` can be ignored.


```plantuml
@startuml
autonumber "<b>[0]"
skinparam responseMessageBelowArrow true
title Example Sequence Diagram
Thread1 -> Thread2: Blocking Request
Thread1 <-- Thread2: Response
Thread1 ->> Thread2: Non-Blocking Message
Thread1 -> Thread1: Sometimes I talk to myself
note right
Maybe something you sent on a channel
end note
alt sunny day
  Thread1 -[#green]>> Thread2: **green arrow**
else it rained
  loop 1000 times
  Thread1 -[#blue]>> Thread2: __blue arrow__
  end
else it snowed
  Thread1 ->> Thread2: //snowing italics//
end
@enduml
```

```plantuml
@startuml
skinparam sequenceMessageAlign center
Thread1 ->x Thread2: ->x
Thread1 -> Thread2: ->
Thread1 ->> Thread2: ->>
note over Thread1: a note
/ note over Thread2: another aligned note
Thread1 -\ Thread2:
Thread1 \\- Thread2: \\-
Thread1 //-- Thread2: //--

Thread1 ->o Thread2: ->o
Thread1 o\\-- Thread2: o\\-

Thread1 <-> Thread2: <->
Thread1 <->o Thread2: <->o
@enduml
```

## Supporting Diagrams
[Plantuml](https://plantuml.com/) is used to generate supporting diagrams.
Using [mdbook-plantuml](https://crates.io/crates/mdbook-plantuml) postprocessor we can use markdown to represent the diagrams and a corresponding image file will be generated upon book generation.

```plantuml
@startmindmap
title Directory Layout
+ **rust-notes**
++ **md/**\nMarkdown - contents of the book
++ **docs/** \ncopy of generated book html\nchecked into git
++ **book/** \n(auto-generated)\ndo not edit\ngenerated by mdbook\n we compare to docs/ to see if there are changes\n to the book that need to be published to git
-- **src/**\nSupporting rust code examples
-- **target/** \n(auto-generated)\ncompiled rust code
@endmindmap
```

## Book Layout
```plantuml
@startwbs
* Rust Notes
** Editing the Book
** Language Features
*** [[http://google.com Google]]
@endwbs
```

```plantuml
@startuml
actor Component1 [[http://plantuml.com/sequence]]
actor "This is [[http://goole.com Google Home Page]] link" as Component2
Component1 -> Component2 [[http://plantuml.com/squence-diagram]] : hello
note left [[http://plantuml.com/squence-diagram]]
  a link plantuml
end note
Component2 -> Component1 : hello with [[http://plantuml.com/start{Tooltip for message} some link]]
note right [[http://plantuml.com/start]] : another note
note left of Component1
You can use [[//plantuml.com/start links in notes]] also.
end note
@enduml
```